<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Happy Valentine's Day ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --rose: #c4454d;
  --rose-deep: #8b1a2b;
  --rose-light: #e8a0a8;
  --gold: #d4a853;
  --gold-light: #f0d89a;
  --cream: #fdf6ee;
  --dark: #1a0a0e;
}

html, body {
  width: 100%; min-height: 100%; overflow-x: hidden;
  font-family: 'Cormorant Garamond', serif;
  background: var(--dark); color: var(--cream);
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

/* ===== AMBIENT BACKGROUND ===== */
.ambient-bg {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse at 20% 50%, rgba(196,69,77,0.1) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 30%, rgba(212,168,83,0.07) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 80%, rgba(139,26,43,0.08) 0%, transparent 50%);
}

/* ===== FLOATING HEARTS ===== */
.floating-hearts { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 1; }
.floating-heart {
  position: absolute; opacity: 0; color: var(--rose-light);
  animation: floatUp linear infinite;
}
@keyframes floatUp {
  0% { transform: translateY(110vh) rotate(0deg) scale(0.5); opacity: 0; }
  8% { opacity: 0.25; }
  92% { opacity: 0.25; }
  100% { transform: translateY(-10vh) rotate(360deg) scale(1); opacity: 0; }
}

/* ===== SCREEN: GIFT BOX ===== */
#gift-screen {
  position: fixed; inset: 0; z-index: 100;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: var(--dark);
  transition: opacity 1s ease, visibility 1s ease;
}
#gift-screen.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

.gift-title {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2.2rem, 7vw, 4.5rem);
  color: var(--gold);
  text-shadow: 0 0 40px rgba(212,168,83,0.3);
  margin-bottom: 0.3rem;
  animation: fadeSlideIn 1s ease-out;
  position: relative; z-index: 2;
}
.gift-subtitle {
  font-size: clamp(0.9rem, 2.5vw, 1.15rem);
  color: var(--rose-light); font-style: italic;
  letter-spacing: 0.05em; margin-bottom: 2.5rem;
  animation: fadeSlideIn 1s ease-out 0.3s both;
  position: relative; z-index: 2;
}
@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* 3D Gift Box */
.gift-scene {
  width: clamp(200px, 50vw, 280px);
  height: clamp(200px, 50vw, 280px);
  perspective: 800px;
  position: relative; z-index: 2;
  animation: fadeSlideIn 1s ease-out 0.5s both;
}

.gift-box-3d {
  width: 100%; height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transform: rotateX(10deg) rotateY(-15deg);
  transition: transform 0.6s ease;
}

/* Box body */
.box-body {
  position: absolute;
  width: 100%; height: 70%; bottom: 0;
  transform-style: preserve-3d;
}
.box-face {
  position: absolute; backface-visibility: hidden;
  border: 1px solid rgba(212,168,83,0.2);
}
.box-front {
  width: 100%; height: 100%;
  background: linear-gradient(180deg, #c0392b, #a93226);
  transform: translateZ(calc(clamp(200px, 50vw, 280px) / 2));
}
.box-back {
  width: 100%; height: 100%;
  background: linear-gradient(180deg, #a93226, #922b21);
  transform: translateZ(calc(clamp(200px, 50vw, 280px) / -2)) rotateY(180deg);
}
.box-left {
  width: clamp(200px, 50vw, 280px); height: 100%;
  background: linear-gradient(180deg, #b5332a, #9e2c24);
  transform: rotateY(-90deg) translateZ(0px);
  transform-origin: left center;
}
.box-right {
  width: clamp(200px, 50vw, 280px); height: 100%;
  background: linear-gradient(180deg, #b5332a, #9e2c24);
  transform: rotateY(90deg) translateZ(0px);
  transform-origin: right center;
}
.box-bottom {
  width: 100%; height: clamp(200px, 50vw, 280px);
  background: #922b21;
  transform: rotateX(-90deg) translateZ(0px);
  transform-origin: bottom center;
  bottom: 0; position: absolute;
}

/* Ribbon on front face */
.ribbon-h, .ribbon-v {
  position: absolute; background: var(--gold);
}
.ribbon-h { width: 100%; height: 18px; top: calc(50% - 9px); left: 0; }
.ribbon-v { width: 18px; height: 100%; left: calc(50% - 9px); top: 0; }
.ribbon-shine { position: absolute; background: rgba(255,255,255,0.2); }
.ribbon-h .ribbon-shine { width: 100%; height: 3px; top: 2px; }
.ribbon-v .ribbon-shine { width: 3px; height: 100%; left: 2px; }

/* Box lid */
.box-lid {
  position: absolute; width: 108%; left: -4%; top: 0;
  height: 35%;
  transform-style: preserve-3d;
  transform-origin: top center;
  transition: transform 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 10;
}
.box-lid.open {
  transform: rotateX(-135deg) translateY(-10%);
}
.lid-face {
  position: absolute; backface-visibility: hidden;
  border: 1px solid rgba(212,168,83,0.2);
}
.lid-top {
  width: 100%; height: 100%;
  background: linear-gradient(135deg, #d44, #c0392b);
}
.lid-top .ribbon-h { top: calc(50% - 9px); }
.lid-top .ribbon-v { left: calc(50% - 9px); }

/* Bow on top */
.bow {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  z-index: 3;
}
.bow-loop {
  position: absolute; width: 40px; height: 22px;
  background: var(--gold); border-radius: 50%;
  top: 50%; transform: translateY(-50%);
}
.bow-loop.left { right: 14px; transform: translateY(-50%) rotate(-20deg); }
.bow-loop.right { left: 14px; transform: translateY(-50%) rotate(20deg); }
.bow-center {
  width: 20px; height: 20px; background: #c19a3e;
  border-radius: 50%; position: relative; z-index: 2;
}

/* Glow when box opens */
.box-glow {
  position: absolute; inset: -30%; z-index: -1;
  background: radial-gradient(circle, rgba(212,168,83,0.4), transparent 70%);
  opacity: 0; transition: opacity 1s ease 0.3s;
  pointer-events: none;
}
.box-glow.active { opacity: 1; }

/* Tap prompt */
.tap-prompt {
  margin-top: 2rem; position: relative; z-index: 2;
  font-size: clamp(0.85rem, 2.2vw, 1rem);
  color: var(--rose-light); letter-spacing: 0.12em;
  text-transform: uppercase;
  animation: pulse 2s ease-in-out infinite, fadeSlideIn 1s ease-out 0.8s both;
}
@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* ===== SCREEN: SURPRISE TEXT ===== */
#surprise-screen {
  position: fixed; inset: 0; z-index: 90;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: var(--dark); opacity: 0; visibility: hidden;
  transition: opacity 0.8s ease, visibility 0.8s ease;
}
#surprise-screen.visible { opacity: 1; visibility: visible; }
.surprise-h1 {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2.8rem, 9vw, 6rem);
  color: var(--gold);
  text-shadow: 0 0 60px rgba(212,168,83,0.5);
  opacity: 0; animation: revealPop 1.5s ease-out forwards;
  position: relative; z-index: 2;
}
.surprise-p {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1rem, 3vw, 1.5rem);
  color: var(--rose-light); font-style: italic; margin-top: 0.8rem;
  opacity: 0; animation: revealPop 1.5s ease-out 0.4s forwards;
  position: relative; z-index: 2;
}
@keyframes revealPop {
  from { opacity: 0; transform: scale(0.7) translateY(25px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
.surprise-btn {
  margin-top: 2.5rem; padding: 1rem 2.8rem;
  font-family: 'Cormorant Garamond', serif; font-size: 1.05rem;
  letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--cream); background: transparent;
  border: 1px solid var(--gold); border-radius: 50px;
  cursor: pointer; transition: all 0.3s ease;
  opacity: 0; animation: revealPop 1s ease-out 1.2s forwards;
  position: relative; z-index: 2;
}
.surprise-btn:hover { background: var(--gold); color: var(--dark); box-shadow: 0 0 30px rgba(212,168,83,0.3); }

/* Burst hearts container */
.burst-container { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }

/* Confetti */
#confetti-canvas { position: fixed; inset: 0; z-index: 95; pointer-events: none; }

/* ===== SCREEN: SLIDESHOW ===== */
#slideshow-screen {
  position: fixed; inset: 0; z-index: 80;
  background: #000; display: none;
  flex-direction: column; align-items: center; justify-content: center;
}
#slideshow-screen.visible { display: flex; }

.slideshow-wrap {
  position: relative; width: 100%; height: 100%;
  overflow: hidden;
}

/* Slide */
.slide {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  opacity: 0; transition: opacity 1.2s ease;
}
.slide.active { opacity: 1; }

.slide-image-wrap {
  position: relative;
  width: 88vw; max-width: 600px;
  height: 70vh; max-height: 500px;
  border-radius: 12px; overflow: hidden;
  box-shadow: 0 20px 80px rgba(0,0,0,0.6);
}

.slide img {
  width: 100%; height: 100%; object-fit: cover;
  animation: kenBurns 7s ease-in-out infinite alternate;
}
@keyframes kenBurns {
  0% { transform: scale(1) translate(0, 0); }
  100% { transform: scale(1.08) translate(-1%, -1%); }
}

.slide-caption {
  position: absolute; bottom: 0; left: 0; right: 0;
  padding: 3rem 1.5rem 1.5rem;
  background: linear-gradient(to top, rgba(0,0,0,0.85), transparent);
  text-align: center;
}
.slide-caption p {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1rem, 2.8vw, 1.3rem);
  color: var(--cream); font-style: italic;
}

/* Slide counter */
.slide-counter {
  position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%);
  display: flex; gap: 8px; z-index: 5;
}
.slide-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transition: all 0.4s ease;
}
.slide-dot.active {
  background: var(--gold); width: 24px; border-radius: 4px;
}

/* Nav arrows */
.slide-nav {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 44px; height: 44px; border-radius: 50%;
  background: rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.15);
  color: var(--cream); font-size: 1.2rem;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; z-index: 5; transition: background 0.3s;
  backdrop-filter: blur(8px);
}
.slide-nav:hover { background: rgba(255,255,255,0.15); }
.slide-nav.prev { left: 1rem; }
.slide-nav.next { right: 1rem; }

/* Skip to letter */
.skip-btn {
  position: absolute; top: 1.5rem; right: 1.5rem; z-index: 5;
  padding: 0.5rem 1.2rem;
  font-family: 'Cormorant Garamond', serif; font-size: 0.85rem;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: rgba(255,255,255,0.5); background: rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.1); border-radius: 50px;
  cursor: pointer; transition: all 0.3s;
  backdrop-filter: blur(8px);
}
.skip-btn:hover { color: var(--cream); border-color: rgba(255,255,255,0.3); }

/* Placeholder slides */
.slide-placeholder {
  width: 100%; height: 100%;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: linear-gradient(135deg, rgba(196,69,77,0.15), rgba(212,168,83,0.08));
  color: var(--rose-light);
}
.slide-placeholder .ph-icon { font-size: 3rem; margin-bottom: 0.8rem; opacity: 0.4; }
.slide-placeholder span { opacity: 0.4; font-style: italic; font-size: 0.9rem; }

/* ===== SCREEN: LETTER ===== */
#letter-screen {
  display: none; min-height: 100vh;
  position: relative; z-index: 10;
}
#letter-screen.visible { display: block; }

/* Back to memories button */
.back-btn {
  position: fixed; top: 1.5rem; left: 1.5rem; z-index: 15;
  padding: 0.5rem 1.2rem;
  font-family: 'Cormorant Garamond', serif; font-size: 0.85rem;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: rgba(255,255,255,0.5); background: rgba(26,10,14,0.5);
  border: 1px solid rgba(212,168,83,0.2); border-radius: 50px;
  cursor: pointer; transition: all 0.3s;
  backdrop-filter: blur(8px);
}
.back-btn:hover { color: var(--cream); border-color: var(--gold); }

.letter-hero {
  padding: 5rem 1.5rem 2rem; text-align: center; position: relative;
}
.letter-hero::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 100%;
  background: radial-gradient(ellipse at 50% 0%, rgba(196,69,77,0.12) 0%, transparent 70%);
  pointer-events: none;
}
.letter-hero h2 {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2.2rem, 6vw, 3.5rem);
  color: var(--gold); position: relative;
}

.letter-section {
  max-width: 680px; margin: 2rem auto 0; padding: 0 2rem 6rem;
}
.letter-container {
  position: relative;
  background: linear-gradient(135deg, rgba(253,246,238,0.04), rgba(253,246,238,0.02));
  border: 1px solid rgba(212,168,83,0.15);
  border-radius: 16px; padding: clamp(2rem, 5vw, 3.5rem);
  backdrop-filter: blur(10px);
}
.letter-container::before {
  content: '\201C'; position: absolute; top: -0.2em; left: 0.3em;
  font-family: 'Playfair Display', serif; font-size: 6rem;
  color: var(--gold); opacity: 0.15; line-height: 1;
}
.letter-greeting {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(1.8rem, 4vw, 2.5rem);
  color: var(--gold); margin-bottom: 1.5rem;
}
.letter-body {
  font-size: clamp(1rem, 2.5vw, 1.15rem);
  line-height: 1.9; color: var(--cream); opacity: 0.9;
}
.letter-body p { margin-bottom: 1.2em; }
.letter-signoff {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(1.5rem, 3.5vw, 2rem);
  color: var(--rose-light); margin-top: 2rem; text-align: right;
}

.footer-hearts {
  text-align: center; padding: 2rem 0 3rem;
  color: var(--rose); font-size: 1.2rem; letter-spacing: 0.5em; opacity: 0.4;
}

/* ===== VOICE NOTE ===== */
.voice-note {
  margin-top: 2.5rem;
  background: linear-gradient(135deg, rgba(196,69,77,0.08), rgba(212,168,83,0.06));
  border: 1px solid rgba(212,168,83,0.2);
  border-radius: 16px; padding: 1.5rem;
}
.voice-note-label {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(1.2rem, 3vw, 1.6rem);
  color: var(--gold); text-align: center; margin-bottom: 1rem;
}
.voice-note-player {
  display: flex; align-items: center; gap: 0.8rem;
}
.vn-play-btn {
  width: 44px; height: 44px; min-width: 44px; border-radius: 50%;
  background: var(--gold); border: none; color: var(--dark);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; transition: all 0.3s;
}
.vn-play-btn:hover { background: var(--gold-light); transform: scale(1.05); }
.vn-play-btn svg { width: 18px; height: 18px; }
.vn-wave-wrap {
  flex: 1; height: 40px; position: relative;
  border-radius: 8px; overflow: hidden;
  background: rgba(255,255,255,0.04);
}
.vn-progress {
  position: absolute; left: 0; top: 0; bottom: 0;
  background: rgba(212,168,83,0.15);
  width: 0%; transition: width 0.1s linear;
  border-radius: 8px;
}
.vn-bars {
  display: flex; align-items: center; height: 100%;
  gap: 2px; padding: 0 8px; position: relative; z-index: 1;
}
.vn-bar {
  flex: 1; border-radius: 2px; min-width: 2px;
  background: var(--rose-light); opacity: 0.4;
  transition: opacity 0.2s;
}
.vn-bar.active { opacity: 1; background: var(--gold); }
.vn-time {
  font-size: 0.85rem; color: var(--rose-light); min-width: 36px;
  text-align: right; font-variant-numeric: tabular-nums;
}

/* ===== MUSIC BUTTON ===== */
.music-toggle {
  position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 300;
  width: 44px; height: 44px; border-radius: 50%;
  background: rgba(26,10,14,0.7); border: 1px solid rgba(212,168,83,0.3);
  color: var(--gold); font-size: 1.1rem;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; backdrop-filter: blur(10px);
  transition: all 0.3s;
}
.music-toggle:hover { background: rgba(212,168,83,0.15); }
.music-toggle .bars {
  display: flex; align-items: flex-end; gap: 2px; height: 16px;
}
.music-toggle .bar {
  width: 3px; background: var(--gold); border-radius: 2px;
  animation: musicBar 0.8s ease-in-out infinite alternate;
}
.music-toggle .bar:nth-child(1) { height: 6px; animation-delay: 0s; }
.music-toggle .bar:nth-child(2) { height: 12px; animation-delay: 0.15s; }
.music-toggle .bar:nth-child(3) { height: 8px; animation-delay: 0.3s; }
.music-toggle .bar:nth-child(4) { height: 14px; animation-delay: 0.1s; }
.music-toggle.paused .bar { animation: none; height: 3px; }
@keyframes musicBar {
  0% { height: 4px; }
  100% { height: 16px; }
}
</style>
</head>
<body>

<div class="ambient-bg"></div>
<div class="floating-hearts" id="floating-hearts"></div>

<!-- ===== GIFT SCREEN ===== -->
<div id="gift-screen">
  <h1 class="gift-title">A Gift For You</h1>
  <p class="gift-subtitle">Tap the gift to open it ‚ú®</p>

  <div class="gift-scene" id="gift-scene">
    <div class="box-glow" id="box-glow"></div>
    <div class="gift-box-3d" id="gift-box">
      <!-- Lid -->
      <div class="box-lid" id="box-lid">
        <div class="lid-face lid-top">
          <div class="ribbon-h"><div class="ribbon-shine"></div></div>
          <div class="ribbon-v"><div class="ribbon-shine"></div></div>
          <div class="bow">
            <div class="bow-loop left"></div>
            <div class="bow-loop right"></div>
            <div class="bow-center"></div>
          </div>
        </div>
      </div>
      <!-- Body -->
      <div class="box-body">
        <div class="box-face box-front">
          <div class="ribbon-h"><div class="ribbon-shine"></div></div>
          <div class="ribbon-v"><div class="ribbon-shine"></div></div>
        </div>
      </div>
    </div>
  </div>

  <p class="tap-prompt">Tap to open</p>
</div>

<!-- ===== SURPRISE SCREEN ===== -->
<div id="surprise-screen">
  <div class="burst-container" id="burst-container"></div>
  <canvas id="confetti-canvas"></canvas>
  <h1 class="surprise-h1">Happy Valentine's Day!</h1>
  <p class="surprise-p">Every moment with you is a treasure</p>
  <button class="surprise-btn" id="start-slideshow-btn">Watch Our Memories ‚ñ∂</button>
</div>

<!-- ===== SLIDESHOW SCREEN ===== -->
<div id="slideshow-screen">
  <div class="slideshow-wrap" id="slideshow-wrap">
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6839.jpg" alt="">
        <div class="slide-caption"><p>The day I said forever</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6800.jpg" alt="">
        <div class="slide-caption"><p>My beautiful bride</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_0423.jpg" alt="">
        <div class="slide-caption"><p>Made for each other</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_4561.JPG" alt="">
        <div class="slide-caption"><p>Our roots, our love</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8547.jpg" alt="">
        <div class="slide-caption"><p>Beauty beyond the mountains</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/2AA1B462-0EB6-4BB2-851E-8FC90EFA6CB8.JPG" alt="">
        <div class="slide-caption"><p>Where it all began</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_0991.JPG" alt="">
        <div class="slide-caption"><p>Pashupati ‚Äî Our Beginning</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6405.JPG" alt="">
        <div class="slide-caption"><p>On top of the world with you</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8339.jpg" alt="">
        <div class="slide-caption"><p>Together, we can conquer anything</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_7241.jpg" alt="">
        <div class="slide-caption"><p>Through every season</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_7261.jpg" alt="">
        <div class="slide-caption"><p>The best views are shared with you</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/DSC01304.JPG" alt="">
        <div class="slide-caption"><p>From Nepal to Thailand, love travels with us</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8677.jpg" alt="">
        <div class="slide-caption"><p>Lost in temples and in you</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8708.jpg" alt="">
        <div class="slide-caption"><p>You light up every city</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8777.jpg" alt="">
        <div class="slide-caption"><p>Sun, sand, and us</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8979.jpg" alt="">
        <div class="slide-caption"><p>Sailing through life with you</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_9053.jpg" alt="">
        <div class="slide-caption"><p>Always in sync</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8883.jpg" alt="">
        <div class="slide-caption"><p>Every adventure is better with you</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_9281.jpg" alt="">
        <div class="slide-caption"><p>Even the nights shine around you</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6225.JPG" alt="">
        <div class="slide-caption"><p>Every day is an adventure</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6132.JPG" alt="">
        <div class="slide-caption"><p>Home is wherever you are</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6698.jpg" alt="">
        <div class="slide-caption"><p>Our kind of perfect</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_8403.jpg" alt="">
        <div class="slide-caption"><p>Through highlands and heartbeats</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6597.PNG" alt="">
        <div class="slide-caption"><p>The smile that stole my heart</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_6729.jpg" alt="">
        <div class="slide-caption"><p>My hand, yours ‚Äî always</p></div>
      </div>
    </div>
    <div class="slide">
      <div class="slide-image-wrap">
        <img src="photos/IMG_9337.jpg" alt="">
        <div class="slide-caption"><p>Growing in love, forever</p></div>
      </div>
    </div>
  </div>
  <div class="slide-counter" id="slide-counter"></div>
  <button class="slide-nav prev" id="prev-btn">‚Äπ</button>
  <button class="slide-nav next" id="next-btn">‚Ä∫</button>
  <button class="skip-btn" id="skip-btn">Read Letter ‚Üí</button>
</div>

<!-- ===== LETTER SCREEN ===== -->
<div id="letter-screen">
  <button class="back-btn" id="back-to-memories">‚Üê Memories</button>
  <div class="letter-hero">
    <h2>A Letter From My Heart</h2>
  </div>
  <div class="letter-section">
    <div class="letter-container">
      <div class="letter-greeting">Meri Maya,</div>
      <div class="letter-body">
        <p>Maile timilai hami duita ko lagi jati garchau, tes sabai appreciate garchu. Kahile maile alikati karraye hola, tara timile teti pani tesari ta lieneu. Maile bhaneko kura haru bujchau, ani tesko lagi ma dherai thankful chu. Maile dherai phone nagareko belama pani, timile alikati ta angry huncha hola, tara timile tesari ta dekhaudaina malai. Tyo pani maile appreciate garchu‚Äîki timi jasto manche mero life ma chhau.</p>
        <p>Maile sochhe thiye ki manche le complain ta garchan hola bihe ma garepachi, tara timile malai only support matra diyo chau. Maile jati bhancho, timi bujna ta jastai garchau. Maile timilai yesto letter jati ta lekhna sakdina hola, haina, tara maile yesto bhanda, timilai alikati bhani ni man ma khusi layo bhane, mero lagi teti bhaye pugcha.</p>
        <p>Bhabisya ma maile jati bhanna parne hola esto ki maile timlai maya garchu bhanera, tara maile bhani na bhani pani tesari naramro ta na socha hai. Kina ki bhanda feri, life ma future ma gaya pachi, maile timro lagi matra maya garne ho, haina, hamesha ka lagi.</p>
        <p>Timi ko emotional stability ra timro values, sabai ma grateful chu ki timi mero life ma chhau, ani ma timilai maya garchu bhanera. Ra ma baaki jindagi ma pani timilai nai maya garchu, haina. Te bhaye ra tesai maile future ma bhani na bhani, testo naramro le ta na leu hai.</p>
        <p>Happy Valentine's Day! Dila ta bhayo hola, tara I hope yo kuraharu le alikati timro man lai shanti din sakcha. I love you. I love you very much, mero maya.</p>
      </div>
      <div class="letter-signoff">Sadhai Timro ‚ù§Ô∏è</div>
    </div>

    <!-- Voice Note -->
    <div class="voice-note">
      <div class="voice-note-label">A message from my heart</div>
      <div class="voice-note-player">
        <button class="vn-play-btn" id="vn-play-btn">
          <svg class="vn-icon-play" viewBox="0 0 24 24" fill="currentColor"><polygon points="6,3 20,12 6,21"/></svg>
          <svg class="vn-icon-pause" viewBox="0 0 24 24" fill="currentColor" style="display:none"><rect x="5" y="3" width="4" height="18"/><rect x="15" y="3" width="4" height="18"/></svg>
        </button>
        <div class="vn-wave-wrap">
          <div class="vn-progress" id="vn-progress"></div>
          <div class="vn-bars" id="vn-bars"></div>
        </div>
        <span class="vn-time" id="vn-time">0:00</span>
      </div>
      <audio id="voice-note" preload="auto">
        <source src="voicenote.mp3" type="audio/mpeg">
      </audio>
    </div>
  </div>
  <div class="footer-hearts">‚ô• ‚ô• ‚ô• ‚ô• ‚ô•</div>
</div>

<!-- ===== MUSIC TOGGLE ===== -->
<button class="music-toggle paused" id="music-toggle" style="display:none;">
  <div class="bars">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
  </div>
</button>

<!-- ===== BACKGROUND MUSIC ===== -->
<audio id="bg-music" loop preload="auto">
  <source src="music_2026-02-07T03-50-46-054Z.mp3" type="audio/mpeg">
</audio>

<script>
// ==========================================
// FLOATING HEARTS
// ==========================================
(function() {
  const c = document.getElementById('floating-hearts');
  const h = ['‚ô•','‚ô°','‚ù§','üíï'];
  for (let i = 0; i < 18; i++) {
    const el = document.createElement('div');
    el.className = 'floating-heart';
    el.textContent = h[Math.floor(Math.random() * h.length)];
    el.style.left = Math.random() * 100 + '%';
    el.style.animationDelay = Math.random() * 10 + 's';
    el.style.animationDuration = (7 + Math.random() * 8) + 's';
    el.style.fontSize = (0.7 + Math.random() * 1.2) + 'rem';
    c.appendChild(el);
  }
})();

// ==========================================
// GIFT BOX OPENING
// ==========================================
(function() {
  const scene = document.getElementById('gift-scene');
  const lid = document.getElementById('box-lid');
  const glow = document.getElementById('box-glow');
  const box3d = document.getElementById('gift-box');
  let opened = false;

  // Subtle tilt on mouse/touch move
  scene.addEventListener('mousemove', (e) => {
    if (opened) return;
    const r = scene.getBoundingClientRect();
    const x = (e.clientX - r.left) / r.width - 0.5;
    const y = (e.clientY - r.top) / r.height - 0.5;
    box3d.style.transform = `rotateX(${10 - y * 15}deg) rotateY(${-15 + x * 15}deg)`;
  });
  scene.addEventListener('mouseleave', () => {
    if (!opened) box3d.style.transform = 'rotateX(10deg) rotateY(-15deg)';
  });

  // Tap/click to open
  scene.addEventListener('click', openGift);
  scene.addEventListener('touchend', (e) => { e.preventDefault(); openGift(); }, { passive: false });

  function openGift() {
    if (opened) return;
    opened = true;

    // Open the lid
    lid.classList.add('open');
    glow.classList.add('active');
    box3d.style.transform = 'rotateX(5deg) rotateY(0deg)';

    // Transition to surprise screen
    setTimeout(() => {
      document.getElementById('gift-screen').classList.add('hidden');
      const s = document.getElementById('surprise-screen');
      s.classList.add('visible');
      heartBurst();
      confetti();
    }, 1400);
  }
})();

// ==========================================
// HEART BURST
// ==========================================
function heartBurst() {
  const c = document.getElementById('burst-container');
  const h = ['‚ù§Ô∏è','üíï','üíñ','üíó','üíù','‚ô•','üåπ','‚ú®'];
  for (let i = 0; i < 50; i++) {
    const el = document.createElement('div');
    el.textContent = h[Math.floor(Math.random() * h.length)];
    const a = (Math.PI * 2 / 50) * i + (Math.random() - 0.5) * 0.5;
    const d = 80 + Math.random() * 300;
    const dx = Math.cos(a) * d, dy = Math.sin(a) * d;
    const dur = 1 + Math.random() * 1.5, del = Math.random() * 0.5;
    el.style.cssText = `position:absolute;left:50%;top:50%;opacity:0;pointer-events:none;font-size:${1 + Math.random() * 1.8}rem;transition:all ${dur}s cubic-bezier(.25,.46,.45,.94) ${del}s;z-index:1`;
    c.appendChild(el);
    requestAnimationFrame(() => requestAnimationFrame(() => {
      el.style.transform = `translate(${dx}px,${dy}px) rotate(${Math.random() * 360}deg)`;
      el.style.opacity = '0.85';
      setTimeout(() => { el.style.opacity = '0'; }, (dur + del) * 700);
    }));
  }
}

// ==========================================
// CONFETTI
// ==========================================
function confetti() {
  const cv = document.getElementById('confetti-canvas');
  const cx = cv.getContext('2d');
  cv.width = window.innerWidth; cv.height = window.innerHeight;
  const P = [], C = ['#c4454d','#d4a853','#e8a0a8','#f0d89a','#ff6b8a','#ffd700','#ff4081','#fff'];
  for (let i = 0; i < 130; i++) P.push({
    x: cv.width/2 + (Math.random()-.5)*200, y: cv.height/2,
    w: 5+Math.random()*7, h: 3+Math.random()*5,
    vx: (Math.random()-.5)*20, vy: -8-Math.random()*16,
    c: C[Math.floor(Math.random()*C.length)],
    r: Math.random()*360, rs: (Math.random()-.5)*14,
    g: 0.22+Math.random()*0.12, o: 1
  });
  let f = 0;
  (function go() {
    cx.clearRect(0, 0, cv.width, cv.height);
    let alive = false;
    P.forEach(p => {
      if (p.o <= 0) return; alive = true;
      p.x += p.vx; p.vy += p.g; p.y += p.vy; p.vx *= 0.99;
      p.r += p.rs; if (f > 90) p.o -= 0.012;
      cx.save(); cx.translate(p.x, p.y); cx.rotate(p.r * Math.PI / 180);
      cx.globalAlpha = Math.max(0, p.o); cx.fillStyle = p.c;
      cx.fillRect(-p.w/2, -p.h/2, p.w, p.h); cx.restore();
    });
    f++; if (alive) requestAnimationFrame(go);
  })();
}

// ==========================================
// MUSIC
// ==========================================
const music = document.getElementById('bg-music');
const musicBtn = document.getElementById('music-toggle');
let musicPlaying = false;

function startMusic() {
  music.volume = 0;
  music.play().then(() => {
    musicPlaying = true;
    musicBtn.classList.remove('paused');
    musicBtn.style.display = 'flex';
    // Fade in over 1s to avoid loud burst
    let vol = 0;
    const fadeIn = setInterval(() => {
      vol += 0.02;
      if (vol >= music._targetVol) { music.volume = music._targetVol; clearInterval(fadeIn); }
      else { music.volume = vol; }
    }, 30);
  }).catch(() => {
    musicBtn.style.display = 'flex';
  });
}
music._targetVol = 1.0;

musicBtn.addEventListener('click', () => {
  if (musicPlaying) {
    music.pause();
    musicPlaying = false;
    musicBtn.classList.add('paused');
  } else {
    music.play();
    musicPlaying = true;
    musicBtn.classList.remove('paused');
  }
});

// ==========================================
// SLIDESHOW
// ==========================================
(function() {
  const slides = document.querySelectorAll('.slide');
  const counter = document.getElementById('slide-counter');
  let current = 0;
  let autoTimer = null;
  const AUTO_DELAY = 5000;

  // Build dots
  slides.forEach((_, i) => {
    const dot = document.createElement('div');
    dot.className = 'slide-dot' + (i === 0 ? ' active' : '');
    dot.addEventListener('click', () => goTo(i));
    counter.appendChild(dot);
  });

  function goTo(idx) {
    slides[current].classList.remove('active');
    counter.children[current].classList.remove('active');
    current = idx;
    slides[current].classList.add('active');
    counter.children[current].classList.add('active');
    resetAuto();
  }

  function next() {
    if (current < slides.length - 1) {
      goTo(current + 1);
    } else {
      // Last slide ‚Üí go to letter
      showLetter();
    }
  }

  function prev() { if (current > 0) goTo(current - 1); }

  function resetAuto() {
    clearInterval(autoTimer);
    autoTimer = setInterval(next, AUTO_DELAY);
  }

  document.getElementById('next-btn').addEventListener('click', next);
  document.getElementById('prev-btn').addEventListener('click', prev);
  document.getElementById('skip-btn').addEventListener('click', showLetter);

  // Swipe support
  let touchStartX = 0;
  const wrap = document.getElementById('slideshow-wrap');
  wrap.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; }, { passive: true });
  wrap.addEventListener('touchend', e => {
    const diff = touchStartX - e.changedTouches[0].clientX;
    if (Math.abs(diff) > 50) { diff > 0 ? next() : prev(); }
  }, { passive: true });

  // Start slideshow button
  document.getElementById('start-slideshow-btn').addEventListener('click', () => {
    const s = document.getElementById('surprise-screen');
    s.style.opacity = '0';
    setTimeout(() => {
      s.style.visibility = 'hidden';
      s.classList.remove('visible');
      const ss = document.getElementById('slideshow-screen');
      ss.classList.add('visible');
      slides[0].classList.add('active');
      autoTimer = setInterval(next, AUTO_DELAY);
      // Start music at low volume, then auto-play voice note over it
      music._targetVol = 0.05;
      startMusic();
      setTimeout(() => {
        const vn = document.getElementById('voice-note');
        music.volume = 0.05;
        vn.play().catch(() => {});
        vn.addEventListener('ended', () => {
          music._targetVol = 1.0;
          // Fade music back up
          let vol = music.volume;
          const fadeUp = setInterval(() => {
            vol += 0.02;
            if (vol >= 1.0) { music.volume = 1.0; clearInterval(fadeUp); }
            else { music.volume = vol; }
          }, 30);
        }, { once: true });
      }, 1500);
    }, 800);
  });

  function showLetter() {
    clearInterval(autoTimer);
    // Stop voice note if still playing during slideshow, restore music volume
    const vn = document.getElementById('voice-note');
    if (!vn.paused) { vn.pause(); vn.currentTime = 0; }
    music.volume = 1.0;
    const ss = document.getElementById('slideshow-screen');
    ss.style.opacity = '0';
    ss.style.transition = 'opacity 0.8s ease';
    setTimeout(() => {
      ss.classList.remove('visible');
      ss.style.opacity = '';
      ss.style.transition = '';
      document.getElementById('letter-screen').classList.add('visible');
      window.scrollTo(0, 0);
    }, 800);
  }

  // Back to memories from letter (no music/voice, just photos)
  document.getElementById('back-to-memories').addEventListener('click', () => {
    // Stop all audio
    music.pause(); musicPlaying = false;
    musicBtn.classList.add('paused');
    const vn = document.getElementById('voice-note');
    if (!vn.paused) { vn.pause(); vn.currentTime = 0; }

    // Hide letter, show slideshow
    document.getElementById('letter-screen').classList.remove('visible');
    const ss = document.getElementById('slideshow-screen');
    ss.classList.add('visible');
    goTo(0);
    // No auto-advance, let her browse freely
  });
})();

// ==========================================
// VOICE NOTE PLAYER
// ==========================================
(function() {
  const vn = document.getElementById('voice-note');
  const btn = document.getElementById('vn-play-btn');
  const progress = document.getElementById('vn-progress');
  const timeEl = document.getElementById('vn-time');
  const barsEl = document.getElementById('vn-bars');
  const playIcon = btn.querySelector('.vn-icon-play');
  const pauseIcon = btn.querySelector('.vn-icon-pause');
  let playing = false;

  // Generate waveform bars
  const barCount = 50;
  const barHeights = [];
  for (let i = 0; i < barCount; i++) {
    const h = 20 + Math.random() * 70;
    barHeights.push(h);
    const bar = document.createElement('div');
    bar.className = 'vn-bar';
    bar.style.height = h + '%';
    barsEl.appendChild(bar);
  }

  function formatTime(s) {
    const m = Math.floor(s / 60);
    const sec = Math.floor(s % 60);
    return m + ':' + (sec < 10 ? '0' : '') + sec;
  }

  function updateProgress() {
    if (!vn.duration) return;
    const pct = (vn.currentTime / vn.duration) * 100;
    progress.style.width = pct + '%';
    timeEl.textContent = formatTime(vn.currentTime);
    // Highlight active bars
    const bars = barsEl.children;
    const activeIdx = Math.floor((vn.currentTime / vn.duration) * barCount);
    for (let i = 0; i < bars.length; i++) {
      bars[i].classList.toggle('active', i <= activeIdx);
    }
    if (playing) requestAnimationFrame(updateProgress);
  }

  btn.addEventListener('click', () => {
    if (playing) {
      vn.pause();
      playing = false;
      playIcon.style.display = '';
      pauseIcon.style.display = 'none';
    } else {
      vn.play().then(() => {
        playing = true;
        playIcon.style.display = 'none';
        pauseIcon.style.display = '';
        updateProgress();
      }).catch(() => {});
    }
  });

  vn.addEventListener('ended', () => {
    playing = false;
    playIcon.style.display = '';
    pauseIcon.style.display = 'none';
    progress.style.width = '0%';
    const bars = barsEl.children;
    for (let i = 0; i < bars.length; i++) bars[i].classList.remove('active');
    timeEl.textContent = '0:00';
  });

  // Click on waveform to seek
  barsEl.parentElement.addEventListener('click', (e) => {
    if (!vn.duration) return;
    const rect = barsEl.parentElement.getBoundingClientRect();
    const pct = (e.clientX - rect.left) / rect.width;
    vn.currentTime = pct * vn.duration;
    updateProgress();
  });
})();
</script>
</body>
</html>
